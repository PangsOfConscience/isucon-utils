# isucon-utils

## Usage

ローカルPC

```shell
git clone https://github.com/44smkn/isucon-utils.git
cd isucon-utils/client
./init.sh -b 1.1.1.1 -s "2.2.2.2 3.3.3.3 4.4.4.4" -p 5032
```

サーバ

```shell
git clone https://github.com/44smkn/isucon-utils.git
cd isucon-utils/server
sh init.sh
```

## 事前準備

* レギュレーションを読む
  * ISUCON10だと、開催日の2ヶ月前くらいにPublicになっている様子
  * ただし当日に公開されるマニュアルの内容が優先されるらしい
* GitHubにリポジトリを作成しておく
  * `isucon11-qualify`とかの名前で
  * 必要であればプルリクのテンプレートとか作っておく

## 当日の流れ

競技開始直前から終了までの流れ

### マニュアルを確認する

* スケジュールの再確認
* サーバへの入り方を確認する
  * 踏み台を経由する？
  * ssh鍵に何を利用するのか
* ベンチマークの流れ
  * 初期化処理にかけてよい時間
  * 負荷走行の時間（基本は60sっぽい）
* 参照実装の切替方法
  * 大体は`systemctl`で切り替えを行う
* スコア計算方法
* アプリケーションの仕様
  * ISUCON10ではbotからのリクエストを弾いて良いという記述があった

### 環境構築を行う

* ssh設定を作り全員で共有する
* デフォルトがGo実装でなければGo実装に切り替える
* そのままの状態でベンチマークを流す
  * 今まで通りだとポータルサイトから走らせる
* アプリケーションコードの置いてあるディレクトリにcdして`git init`して`git push`
  * 大体は`/hone/isucon/${APP名}`のディレクトリとなっているはず
  * そのディレクトリ配下で各種の設定ファイルも管理してしまう（`config`ディレクトリを切る）

## 確認したいこと

* サーバ分離するときの方法
